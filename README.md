# üè≥Ô∏è‚Äç‚ößÔ∏è Projeto: Chatbot Inclusivo de Orienta√ß√£o para Pessoas Trans

## ü§ñ Sistema de Processamento de Linguagem Natural para Suporte e Acolhimento

Um assistente inteligente especializado em fornecer informa√ß√µes acess√≠veis e acolhedoras sobre retifica√ß√£o de nome, terapia hormonal e preven√ß√£o de ISTs para a comunidade trans.

---

# üë• Equipe: INTELI-NO-IMPACTO

| Integrante 1 | Integrante 2 | Integrante 3 | Integrante 4 |
| :----------: | :----------: | :----------: | :----------: |
| <img src="https://media.licdn.com/dms/image/v2/D4D03AQFpuCHH7zRE6w/profile-displayphoto-shrink_400_400/profile-displayphoto-shrink_400_400/0/1678716198904?e=1762992000&v=beta&t=RLdzg-MCyoqVbXLt6OSLU6LigBP3GfagPndLGp9gPmI" width="150" alt="Fernando Machado"> <br> [**Fernando Machado**](https://www.linkedin.com/in/fernando-machado-santos) | <img src="https://media.licdn.com/dms/image/v2/D4D03AQFEWbbQZVzBTA/profile-displayphoto-scale_400_400/B4DZl9519rH4Ak-/0/1758753940232?e=1762992000&v=beta&t=7O3oUlf2K3jwN66gi32vdRYfCjPyceCP_qCtPS9WVbQ" width="150" alt="Gabriel Pelinsari"> <br> [**Gabriel Pelinsari**](https://www.linkedin.com/in/gabriel-pelinsari) | <img src="https://media.licdn.com/dms/image/v2/D4D03AQF9VYDA7dTAkw/profile-displayphoto-shrink_400_400/profile-displayphoto-shrink_400_400/0/1678714840944?e=1762992000&v=beta&t=v8BNYFBASek__LV44Ie1DkBWZEUaIwizMEeOHB7eUDI" width="150" alt="Jo√£o Paulo Silva"> <br> [**Jo√£o Paulo Silva**](https://www.linkedin.com/in/jo√£o-paulo-da-silva-a45229215) | <img src="https://media.licdn.com/dms/image/v2/D4D03AQHprrQcSOWJ_w/profile-displayphoto-crop_800_800/B4DZlo.DN1JgAI-/0/1758402722996?e=1762992000&v=beta&t=0vmN2_Ec3DzEdHvQoUnycjyhaNHGDTUWSRJztYcC-Cc" width="150" alt="Matheus Ribeiro"> <br> [**Matheus Ribeiro**](https://www.linkedin.com/in/omatheusrsantos) |


---

# üìñ Descri√ß√£o

Este projeto nasceu da necessidade de criar um **assistente virtual acolhedor e inclusivo** para a comunidade trans brasileira. O chatbot utiliza **Processamento de Linguagem Natural (PLN)** e **Intelig√™ncia Artificial** para fornecer informa√ß√µes precisas, respeitosas e personalizadas sobre tr√™s √°reas principais:

- üè• **Retifica√ß√£o de Nome e G√™nero**: Orienta√ß√µes sobre documenta√ß√£o, processos legais e cart√≥rios
- üíä **Hormoniza√ß√£o**: Informa√ß√µes sobre terapia hormonal, acompanhamento m√©dico e locais de atendimento
- ü©∫ **Preven√ß√£o de ISTs**: Testagem, tratamento, PrEP, PEP e cuidados com sa√∫de sexual

### üéØ Diferenciais do Projeto

- **Personaliza√ß√£o por Pronomes**: Sistema de reconhecimento e uso correto de pronomes (ele/ela/elu)
- **Prioriza√ß√£o de Nome Social**: Respeita a identidade de g√™nero usando nome social quando dispon√≠vel
- **M√∫ltiplas Plataformas**: Dispon√≠vel via API REST e Telegram Bot
- **Base de Conhecimento Din√¢mica**: Conte√∫do atualizado atrav√©s de arquivos markdown no Supabase
- **Hist√≥rico Contextual**: Mant√©m coer√™ncia em conversas de m√∫ltiplas mensagens
- **Linguagem Inclusiva**: Tom acolhedor, emojis apropriados e terminologia respeitosa

---

# üìÇ Estrutura de Pastas

```
üìÅ chatbot/
‚îú‚îÄ‚îÄ üìÇ app/                          # Aplica√ß√£o principal
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ main.py                   # API REST FastAPI com endpoints de chat
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ telegram_bot.py           # Bot do Telegram com integra√ß√£o completa
‚îÇ
‚îú‚îÄ‚îÄ üìÑ requirements.txt              # Depend√™ncias Python
‚îú‚îÄ‚îÄ üìÑ .gitignore                    # Arquivos ignorados pelo Git
‚îî‚îÄ‚îÄ üìÑ README.md                     # Este arquivo
```

---

# üèóÔ∏è Arquitetura do Sistema

## Componentes Principais

### 1. üöÄ API REST (FastAPI)
- **Endpoint `/chat`**: Recebe mensagens e retorna respostas da IA
- **Endpoint `/classify_intent`**: Classifica a inten√ß√£o da mensagem do usu√°rio
- **Endpoint `/concatenate_artigos`**: Gerencia a base de conhecimento
- **Autentica√ß√£o**: Suporta usu√°rios autenticados (`user_id`) e an√¥nimos (`session_id`)
- **Personaliza√ß√£o**: Busca nome social e pronome do banco de dados

### 2. ü§ñ Telegram Bot
- **Comandos**:
  - `/start` - Inicia conversa com mensagem de boas-vindas
  - `/ajuda` - Mostra informa√ß√µes de ajuda
  - `/novo` - Inicia uma nova conversa (reseta hist√≥rico)
- **Features**:
  - Compartilhamento inteligente de link da aplica√ß√£o web (ap√≥s 5 mensagens)
  - Indicador de "digitando..." para melhor UX
  - Logs detalhados para monitoramento
  - Gerenciamento de sess√£o por usu√°rio do Telegram

### 3. üóÑÔ∏è Banco de Dados (Supabase)
- **Tabela `users`**: Armazena informa√ß√µes dos usu√°rios (name, social_name, pronoun)
- **Tabela `chats`**: Gerencia conversas (user_id, session_id, is_active)
- **Tabela `chat_messages`**: Hist√≥rico de mensagens (role, content, timestamps)
- **Storage Bucket**: Armazena artigos markdown (.md) da base de conhecimento

### 4. üß† Intelig√™ncia Artificial
- **Modelo**: OpenAI GPT-4o-mini
- **Temperatura**: 0.7 (equil√≠brio entre criatividade e precis√£o)
- **Max Tokens**: 1000
- **Prompt Estruturado**: 3 se√ß√µes claramente definidas (conhecimento, hist√≥rico, pergunta atual)

---

# üîß Tecnologias Utilizadas

## Backend
- **FastAPI** (0.120.0) - Framework web moderno e ass√≠ncrono
- **Uvicorn** (0.38.0) - Servidor ASGI de alta performance
- **Python 3.8+** - Linguagem de programa√ß√£o

## Intelig√™ncia Artificial
- **OpenAI API** (2.0.0+) - Processamento de linguagem natural
- **GPT-4o-mini** - Modelo de linguagem avan√ßado

## Banco de Dados & Storage
- **Supabase** (2.0.0+) - Backend-as-a-Service (PostgreSQL + Storage)
- **PostgreSQL** - Banco de dados relacional

## Integra√ß√µes
- **python-telegram-bot** (21.0+) - SDK oficial do Telegram
- **python-dotenv** (1.1.1) - Gerenciamento de vari√°veis de ambiente
- **httpx** (0.26-0.28) - Cliente HTTP ass√≠ncrono

## DevOps & Ferramentas
- **Pydantic** (2.12.3) - Valida√ß√£o de dados
- **Git** - Controle de vers√£o
- **Conventional Commits** - Padr√£o de commits

---

# ‚öôÔ∏è Requisitos

## Hardware M√≠nimo
- **Processador**: Dual-core 2.0 GHz ou superior
- **Mem√≥ria RAM**: M√≠nimo 4GB (recomendado 8GB+)
- **Armazenamento**: 500MB de espa√ßo livre
- **Conex√£o Internet**: Necess√°ria para APIs externas

## Software
- **Python**: Vers√£o 3.8 ou superior
- **pip**: Gerenciador de pacotes Python
- **Git**: Para clonar o reposit√≥rio
- **Navegador Web**: Chrome, Firefox, Edge ou Safari (vers√µes atualizadas)
- **Sistema Operacional**: Windows 10/11, macOS 10.14+, ou Linux (Ubuntu 20.04+)

## Contas e Chaves Necess√°rias
- **Conta OpenAI** com API Key
- **Conta Supabase** (projeto configurado)
- **Bot do Telegram** (token obtido via @BotFather) - opcional

---

# üöÄ Instru√ß√µes para Execu√ß√£o

## 1. Clone o Reposit√≥rio

```bash
git clone https://github.com/INTELI-NO-IMPACTO/chatbot.git
cd chatbot
```

## 2. Configure o Ambiente Virtual

### Windows (PowerShell)
```powershell
python -m venv .venv
.\.venv\Scripts\Activate.ps1
```

### macOS/Linux
```bash
python3 -m venv .venv
source .venv/bin/activate
```

## 3. Instale as Depend√™ncias

```bash
pip install -r requirements.txt
```

## 4. Configure as Vari√°veis de Ambiente

Crie um arquivo `.env` na raiz do projeto com as seguintes vari√°veis:

```env
# OpenAI Configuration
OPENAI_API_KEY=sk-proj-your-api-key-here

# Supabase Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
SUPABASE_BUCKET=knowledge-base

# Telegram Bot (opcional)
TELEGRAM_BOT_TOKEN=your-telegram-bot-token
```

### Como Obter as Chaves:

**OpenAI API Key:**
1. Acesse [platform.openai.com](https://platform.openai.com/)
2. Fa√ßa login ou crie uma conta
3. V√° em "API Keys" e clique em "Create new secret key"

**Supabase:**
1. Acesse [supabase.com](https://supabase.com/)
2. Crie um novo projeto
3. V√° em Settings > API
4. Copie a URL e a Service Role Key

**Telegram Bot Token:**
1. Abra o Telegram e busque por @BotFather
2. Envie `/newbot` e siga as instru√ß√µes
3. Copie o token fornecido

## 5. Configure o Banco de Dados

### Estrutura das Tabelas (SQL)

Execute no SQL Editor do Supabase:

```sql
-- Tabela de usu√°rios
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255),
    social_name VARCHAR(255),
    pronoun VARCHAR(50),
    created_at TIMESTAMP DEFAULT NOW()
);

-- Tabela de chats
CREATE TABLE chats (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    session_id VARCHAR(255),
    title VARCHAR(255),
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- Tabela de mensagens
CREATE TABLE chat_messages (
    id SERIAL PRIMARY KEY,
    chat_id INTEGER REFERENCES chats(id),
    role VARCHAR(50) NOT NULL,
    content TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT NOW()
);

-- √çndices para performance
CREATE INDEX idx_chats_user_id ON chats(user_id);
CREATE INDEX idx_chats_session_id ON chats(session_id);
CREATE INDEX idx_chat_messages_chat_id ON chat_messages(chat_id);
```

### Configura√ß√£o do Storage Bucket

1. No Supabase, v√° em **Storage**
2. Crie um bucket chamado `knowledge-base`
3. Configure como **p√∫blico** ou **privado** (conforme necessidade)
4. Fa√ßa upload dos arquivos `.md` com o conte√∫do informativo

**Exemplo de estrutura de arquivo .md:**
```markdown
# Retifica√ß√£o de Nome

## O que √©?
A retifica√ß√£o de nome √© o processo legal para alterar...

## Documentos Necess√°rios
- Certid√£o de nascimento
- RG e CPF
- Comprovante de resid√™ncia...
```

## 6. Execute a Aplica√ß√£o

### Op√ß√£o A: API REST (FastAPI)

```bash
cd app
uvicorn main:app --reload --port 8000
```

A API estar√° dispon√≠vel em: `http://localhost:8000`

**Documenta√ß√£o Interativa:**
- Swagger UI: `http://localhost:8000/docs`
- ReDoc: `http://localhost:8000/redoc`

### Op√ß√£o B: Telegram Bot

```bash
cd app
python telegram_bot.py
```

O bot come√ßar√° a responder mensagens no Telegram!

### Op√ß√£o C: Executar Ambos (Produ√ß√£o)

Em terminais separados:

```bash
# Terminal 1 - API REST
uvicorn app.main:app --host 0.0.0.0 --port 8000

# Terminal 2 - Telegram Bot
python app/telegram_bot.py
```

---

# üì° Endpoints da API

## üîπ POST `/chat`

Envia uma mensagem e recebe resposta do chatbot.

**Request Body:**
```json
{
  "message": "Como fa√ßo para retificar meu nome?",
  "user_id": 123,           // Opcional: usu√°rio autenticado
  "session_id": "abc-123"   // Opcional: sess√£o an√¥nima
}
```

**Response:**
```json
{
  "response": "Para retificar seu nome, voc√™ precisa...",
  "contexto_utilizado": true,
  "chat_id": 45,
  "historico_usado": true
}
```

## üîπ POST `/classify_intent`

Classifica a inten√ß√£o da mensagem do usu√°rio.

**Request Body:**
```json
{
  "content": "Quero saber sobre hormoniza√ß√£o"
}
```

**Response:**
```json
{
  "intent": "HORMONIZACAO"
}
```

**Inten√ß√µes Poss√≠veis:**
- `RETIFICACAO_NOME`
- `HORMONIZACAO`
- `PREVENCAO_IST`
- `BOAS_VINDAS`
- `DESPEDIDA`
- `OUTROS`
- `NAO_ENTENDIDO`

## üîπ GET `/concatenate_artigos`

Retorna todos os artigos da base de conhecimento concatenados.

**Response:**
```json
{
  "success": true,
  "total_artigos": 5,
  "arquivos": ["retificacao.md", "hormonizacao.md", "ists.md"],
  "contexto": "Conte√∫do concatenado dos artigos..."
}
```

---

# ü§ñ Comandos do Telegram Bot

## Comandos Dispon√≠veis

| Comando | Descri√ß√£o |
|---------|-----------|
| `/start` | Inicia o bot e mostra mensagem de boas-vindas |
| `/ajuda` | Exibe informa√ß√µes de ajuda e t√≥picos dispon√≠veis |
| `/novo` | Inicia uma nova conversa (limpa hist√≥rico) |

## Funcionalidades Especiais

### üéØ Compartilhamento Inteligente de Link
- Ap√≥s **5 mensagens**, o bot automaticamente compartilha o link da aplica√ß√£o web
- Mensagem natural e n√£o-invasiva
- Enviado apenas **uma vez por conversa**
- Reseta ao usar `/novo`

### üí¨ Experi√™ncia de Usu√°rio
- Indicador "digitando..." enquanto processa a resposta
- Respostas em at√© 4 par√°grafos para facilitar leitura no mobile
- Emojis para melhor visualiza√ß√£o
- Tom acolhedor e inclusivo

---

# üß™ Testando o Sistema

## Teste da API REST

### Usando cURL:
```bash
curl -X POST "http://localhost:8000/chat" \
  -H "Content-Type: application/json" \
  -d '{
    "message": "Como funciona a retifica√ß√£o de nome?",
    "user_id": 1
  }'
```

### Usando Python:
```python
import requests

response = requests.post(
    "http://localhost:8000/chat",
    json={
        "message": "Onde fazer hormoniza√ß√£o?",
        "user_id": 1
    }
)

print(response.json())
```

## Teste do Telegram Bot

1. Abra o Telegram
2. Busque pelo seu bot (nome definido no @BotFather)
3. Envie `/start`
4. Fa√ßa perguntas sobre os t√≥picos dispon√≠veis
5. Ap√≥s 5 mensagens, verifique o compartilhamento do link

---

# üìä Processamento de Dados e Fluxo

## 1. Recebimento da Mensagem
```
Usu√°rio ‚Üí [API/Telegram] ‚Üí Valida√ß√£o
```

## 2. Identifica√ß√£o do Usu√°rio
```
user_id? ‚Üí Busca no BD ‚Üí [Nome Social, Pronome]
    ‚Üì n√£o
session_id ‚Üí Modo An√¥nimo
```

## 3. Busca de Contexto
```
[Supabase Storage] ‚Üí Baixa arquivos .md ‚Üí Concatena contexto
[Banco de Dados] ‚Üí Busca √∫ltimas 30 mensagens ‚Üí Hist√≥rico
```

## 4. Montagem do Prompt
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üë§ INFORMA√á√ïES DO USU√ÅRIO           ‚îÇ
‚îÇ - Nome: [social_name ou name]       ‚îÇ
‚îÇ - Pronome: [ele/ela/elu]            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üìö BASE DE CONHECIMENTO             ‚îÇ
‚îÇ - Artigos concatenados (.md files)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üí¨ HIST√ìRICO DA CONVERSA            ‚îÇ
‚îÇ - √öltimas 30 mensagens              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚ùì PERGUNTA ATUAL                   ‚îÇ
‚îÇ - Mensagem do usu√°rio               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## 5. Processamento pela IA
```
GPT-4o-mini (temperature=0.7, max_tokens=1000)
    ‚Üì
Gera resposta personalizada e contextual
```

## 6. Salvamento e Resposta
```
Resposta ‚Üí Salva no BD ‚Üí Retorna ao usu√°rio
    ‚Üì
[Telegram] Verifica contador ‚Üí Envia link (se aplic√°vel)
```

---

# üé® Features de Personaliza√ß√£o

## Sistema de Pronomes

O chatbot identifica e usa corretamente os pronomes:

| Pronome | Exemplo de Uso |
|---------|----------------|
| `ele` | "Jo√£o, voc√™ est√° bem-vindo aqui!" |
| `ela` | "Maria, voc√™ est√° bem-vinda aqui!" |
| `elu` | "Alex, voc√™ est√° bem-vinde aqui!" |
| `null` | "Ol√°! Voc√™ est√° bem-vinde aqui!" (neutro) |

## Prioriza√ß√£o de Nome Social

```sql
-- L√≥gica de sele√ß√£o de nome
preferred_name = social_name OR name

-- Exemplo:
-- name: "Jo√£o Silva"
-- social_name: "Maria Silva"
-- ‚úÖ Usa: "Maria Silva"
```

---

# üìà M√©tricas e Logs

## Logs Dispon√≠veis

### API REST (`main.py`)
```
================================================================================
üí¨ CHAT ID: 7
üë§ NOME DO USU√ÅRIO: Maria Silva (ela)
üìä HIST√ìRICO USADO: 10 mensagens
‚ùì PERGUNTA DO USU√ÅRIO: Como funciona a hormoniza√ß√£o?
ü§ñ RESPOSTA: [resposta gerada]
================================================================================
```

### Telegram Bot (`telegram_bot.py`)
```
INFO - Usu√°rio 123456789 iniciou o bot
INFO - Mensagem recebida de 123456789: Como retificar o nome?
INFO - Link da aplica√ß√£o enviado para usu√°rio 123456789 ap√≥s 5 mensagens
INFO - Resposta enviada para 123456789
```

---

# üîê Seguran√ßa e Privacidade

## Boas Pr√°ticas Implementadas

- ‚úÖ **Vari√°veis de ambiente** para credenciais sens√≠veis
- ‚úÖ **Service Role Key** do Supabase (n√£o exposta ao frontend)
- ‚úÖ **HTTPS recomendado** para produ√ß√£o
- ‚úÖ **Valida√ß√£o de entrada** com Pydantic
- ‚úÖ **Rate limiting** (implementar em produ√ß√£o)
- ‚úÖ **Logs sanitizados** (sem informa√ß√µes pessoais sens√≠veis)

## Prote√ß√£o de Dados

- Dados de usu√°rios armazenados com seguran√ßa no Supabase
- Hist√≥rico de conversas isolado por `chat_id`
- Sess√µes an√¥nimas suportadas (`session_id`)
- Conformidade com LGPD (Lei Geral de Prote√ß√£o de Dados)

---

# üöÄ Deploy em Produ√ß√£o

## Op√ß√µes de Hospedagem

### 1. Railway / Render
- Deploy autom√°tico via Git
- Suporte nativo para FastAPI
- Configura√ß√£o de vari√°veis de ambiente

### 2. AWS EC2 / Google Cloud
- Maior controle e escalabilidade
- Configura√ß√£o manual necess√°ria

### 3. Docker (Recomendado)

**Dockerfile:**
```dockerfile
FROM python:3.11-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

EXPOSE 8000

CMD ["uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "8000"]
```

**Build e Run:**
```bash
docker build -t chatbot-trans .
docker run -p 8000:8000 --env-file .env chatbot-trans
```

---

# üõ†Ô∏è Troubleshooting

## Problemas Comuns

### ‚ùå Erro: "OPENAI_API_KEY n√£o encontrada"
**Solu√ß√£o:** Verifique se o arquivo `.env` est√° na raiz do projeto e cont√©m a chave v√°lida.

### ‚ùå Erro: "ModuleNotFoundError"
**Solu√ß√£o:** Ative o ambiente virtual e reinstale as depend√™ncias:
```bash
pip install -r requirements.txt
```

### ‚ùå Bot do Telegram n√£o responde
**Solu√ß√£o:** 
1. Verifique se o `TELEGRAM_BOT_TOKEN` est√° correto
2. Certifique-se que o bot est√° rodando (`python app/telegram_bot.py`)
3. Verifique os logs para identificar erros

### ‚ùå Erro ao conectar no Supabase
**Solu√ß√£o:**
1. Verifique se `SUPABASE_URL` e `SUPABASE_KEY` est√£o corretos
2. Confirme que o projeto Supabase est√° ativo
3. Teste a conex√£o via Supabase Dashboard

---

# üìö Documenta√ß√£o Adicional

- [PR_DESCRIPTION.md](./PR_DESCRIPTION.md) - Features de personaliza√ß√£o do chat
- [TELEGRAM_PR_DESCRIPTION.md](./TELEGRAM_PR_DESCRIPTION.md) - Sistema de compartilhamento de links
- [FastAPI Docs](https://fastapi.tiangolo.com/) - Documenta√ß√£o oficial do FastAPI
- [python-telegram-bot](https://docs.python-telegram-bot.org/) - Documenta√ß√£o do SDK do Telegram

---

# ü§ù Contribuindo

Contribui√ß√µes s√£o bem-vindas! Para contribuir:

1. Fa√ßa um Fork do projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudan√ßas (`git commit -m 'feat: add amazing feature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

**Padr√£o de Commits:** [Conventional Commits](https://www.conventionalcommits.org/)
- `feat:` - Nova funcionalidade
- `fix:` - Corre√ß√£o de bug
- `docs:` - Documenta√ß√£o
- `style:` - Formata√ß√£o
- `refactor:` - Refatora√ß√£o de c√≥digo
- `test:` - Testes
- `chore:` - Manuten√ß√£o

---

# üìÑ Licen√ßa

<p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/">
  <a property="dct:title" rel="cc:attributionURL" href="https://github.com/INTELI-NO-IMPACTO/chatbot">
    Chatbot Inclusivo Trans
  </a> by 
  <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://www.inteli.edu.br/">
    Inteli - Instituto de Tecnologia e Lideran√ßa
  </a> is licensed under 
  <a href="https://creativecommons.org/licenses/by/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">
    CC BY 4.0
    <img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1" alt="">
    <img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1" alt="">
  </a>
</p>

---

# üìû Contato e Suporte

- **GitHub**: [INTELI-NO-IMPACTO](https://github.com/INTELI-NO-IMPACTO)
- **Email Fernando Machado**: fernando.machado.ismart@gmail.com
- **Email Gabriel Pelinsari**: gabriel.pelinsari.projetos@gmail.com
- **Email Jo√£o Paulo da Silva**: joaopaulo.silva.ismart@gmail.com
- **Email Matheus Ribeiro**: matheus.ribeiro@sou.inteli.edu.br
---

<p align="center">
  Feito com üíú pela equipe <strong>INTELI-NO-IMPACTO</strong>
  <br>
  <em>Tecnologia com prop√≥sito, acolhimento e respeito</em>
</p>
